@import url('https://fonts.googleapis.com/css2?family=Syne:wght@700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Default: dark theme (applied when html has class "dark" or no theme class) */
  :root,
  html.dark {
    --sidebar-width: 240px;
    /* Background Colors */
    --background: #0c0e14;               /* Page background */
    --card: #13161e;                     /* Card background */
    --topbar-bg: #0f1117;                /* Topbar & table header */
    --secondary: #111419;                /* Table odd row */
    --muted: #1a1d27;                    /* Table hover */
    --accent: #1c1e24;                   /* Button background */
    --input: #1e2433;                    /* Input background */
    
    /* Borders */
    --border: #1e2433;                   /* Border/divider */
    --table-border: #2a3347;             /* Table border */
    --button-border: #303338;             /* Button border */
    
    /* Text Colors - all full white for dark theme */
    --foreground: #ffffff;               /* Primary text */
    --card-foreground: #ffffff;          /* Text on cards */
    --primary-foreground: #ffffff;       /* White text on primary */
    --secondary-foreground: #ffffff;     /* Body text */
    --muted-foreground: #ffffff;         /* Label text */
    --accent-foreground: #ffffff;        /* Muted text */
    --destructive-foreground: #ffffff;   /* White text on destructive */
    
    /* Primary/Accent Colors - Mix Orange (Bright → Deep → Burnt) */
    --primary: #ff8040;                  /* Bright Orange */
    --primary-mid: #e05010;              /* Deep Orange */
    --primary-dark: #c03800;             /* Burnt Orange */
    --primary-darkest: #a03000;          /* Darker accent */
    --primary-gradient: linear-gradient(135deg, #ff8040 0%, #e05010 54%, #c03800 100%);
    --sidebar-active-bg: #2a3a4f;        /* Sidebar active background */
    --sidebar-active-accent: #ff8040;    /* Sidebar active accent */
    
    /* Status Colors */
    --success: #22c55e;                  /* Success/Income green */
    --destructive: #ef4444;              /* Error/Expense red */
    --warning: #eab308;                  /* Warning yellow */
    --cyan: #22d3ee;                     /* Cyan */
    --purple: #a78bfa;                   /* Purple */
    --orange: #ff8040;                   /* Orange (Bright) */
    
    /* Focus Ring */
    --ring: #ff8040;                     /* Focus ring color */

    /* Table Colors */
    --table-header-bg: #0f1117;          /* Table header background */
    --table-row-odd: #111419;            /* Odd row background */
    --table-row-even: #13161e;           /* Even row background */
    --table-row-hover: #1a1d27;          /* Row hover background */
    --table-divider: #1e2433;            /* Table divider/border */
    
    /* Text Colors (duplicate for clarity) - all full white */
    --text-primary: #ffffff;              /* Primary headings & values */
    --text-body: #ffffff;                /* Body text, source names */
    --text-label: #ffffff;               /* Labels, secondary text */
    --text-muted: #ffffff;               /* Muted text, notes */
    --text-placeholder: #9ca3af;         /* Placeholder text (slightly muted for inputs only) */
    --input-text: #b8c0cc;               /* Light gray: text inside every input/select/textarea (all pages) */
    
    /* UI Elements */
    --button-bg: #1c1e24;                /* Button background */
    --button-border: #303338;            /* Button border */
    --scrollbar-track: #111;              /* Scrollbar track */
    --scrollbar-thumb: #333;              /* Scrollbar thumb */
    --scrollbar-thumb-hover: #444;       /* Scrollbar hover */
  }

  /* Light theme (applied when html has class "light") */
  html.light {
    --sidebar-width: 240px;
    --background: #f4f5f7;
    --card: #ffffff;
    --topbar-bg: #ffffff;
    --secondary: #eef0f3;
    --muted: #e4e6eb;
    --accent: #e4e6eb;
    --input: #ffffff;
    --border: #d1d5db;
    --table-border: #e5e7eb;
    --button-border: #d1d5db;
    --foreground: #111827;
    --card-foreground: #111827;
    --primary-foreground: #ffffff;
    --secondary-foreground: #374151;
    --muted-foreground: #6b7280;
    --accent-foreground: #4b5563;
    --destructive-foreground: #ffffff;
    --primary: #ff8040;
    --primary-mid: #e05010;
    --primary-dark: #c03800;
    --primary-darkest: #a03000;
    --primary-gradient: linear-gradient(135deg, #ff8040 0%, #e05010 54%, #c03800 100%);
    --sidebar-active-bg: #fef3eb;
    --sidebar-active-accent: #ff8040;
    --success: #16a34a;
    --destructive: #dc2626;
    --warning: #ca8a04;
    --cyan: #0891b2;
    --purple: #7c3aed;
    --orange: #ff8040;
    --ring: #ff8040;
    --table-header-bg: #f9fafb;
    --table-row-odd: #ffffff;
    --table-row-even: #f9fafb;
    --table-row-hover: #f3f4f6;
    --table-divider: #e5e7eb;
    --text-primary: #111827;
    --text-body: #374151;
    --text-label: #6b7280;
    --text-muted: #4b5563;
    --text-placeholder: #9ca3af;
    --input-text: #9ca3af;               /* Light gray: text inside every input/select/textarea (all pages) */
    --button-bg: #f3f4f6;
    --button-border: #d1d5db;
    --scrollbar-track: #e5e7eb;
    --scrollbar-thumb: #9ca3af;
    --scrollbar-thumb-hover: #6b7280;
  }

  * {
    @apply border-border;
  }
  body {
    background-color: var(--background) !important;
    color: var(--foreground) !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  html {
    background-color: var(--background);
  }
  html.dark {
    color-scheme: dark;
  }
  html.light {
    color-scheme: light;
  }
  
  /* Force dark backgrounds for common elements */
  .bg-background {
    background-color: var(--background) !important;
  }
  
  .bg-card {
    background-color: var(--card) !important;
  }
  
  .text-foreground {
    color: var(--foreground) !important;
  }

  /* Logo text – Syne 700 as requested */
  .vp-logo-text {
    font-family: 'Syne', sans-serif;
    font-weight: 700;
    letter-spacing: 0.05em;
  }

  /* Page titles: solid white instead of gradient (no mixed white/gray) */
  .bg-clip-text.text-transparent {
    background: none !important;
    color: var(--foreground) !important;
    -webkit-text-fill-color: var(--foreground) !important;
  }

  /* Every page: text inside all inputs, selects, textareas = #111827 */
  input,
  select,
  textarea {
    color: var(--input-text) !important;
  }
  input::placeholder,
  textarea::placeholder {
    color: var(--text-placeholder);
  }

  .text-card-foreground {
    color: var(--card-foreground) !important;
  }
  
  /* Recharts dark theme styling */
  .recharts-wrapper,
  .recharts-surface {
    background-color: transparent !important;
  }
  
  .recharts-cartesian-grid-horizontal line,
  .recharts-cartesian-grid-vertical line {
    stroke: var(--border) !important;
    opacity: 0.2;
  }
  
  .recharts-text {
    fill: var(--muted-foreground) !important;
  }
  
  .recharts-legend-wrapper {
    color: var(--foreground) !important;
  }
  
  .recharts-tooltip-wrapper {
    background-color: var(--card) !important;
    border: 1px solid var(--border) !important;
    border-radius: 0.5rem !important;
  }
  
  .recharts-tooltip-label {
    color: var(--card-foreground) !important;
  }
  
  .recharts-tooltip-item {
    color: var(--card-foreground) !important;
  }
}

@layer utilities {
  .glass-effect {
    backdrop-filter: blur(10px);
    background: var(--topbar-bg);
  }
}

@layer components {
  .report-card {
    @apply bg-card rounded-xl border border-border p-5 transition-all duration-200;
  }

  .report-card:hover {
    border-color: var(--primary);
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.35);
  }

  .stat-value {
    @apply text-2xl font-bold text-foreground font-mono;
  }

  .stat-label {
    @apply text-sm text-muted-foreground font-medium;
  }

  .glow-border {
    box-shadow:
      0 0 15px rgba(255, 128, 64, 0.18),
      inset 0 1px 0 rgba(255, 255, 255, 0.02);
  }

  .nav-button {
    @apply flex flex-col items-center gap-2 p-4 rounded-xl bg-card border border-border cursor-pointer transition-all duration-200;
  }

  .nav-button:hover {
    @apply border-primary/60;
    box-shadow: 0 0 20px rgba(255, 128, 64, 0.16);
    transform: translateY(-2px);
  }

  .nav-button.active {
    @apply border-primary bg-card;
    box-shadow: 0 0 24px rgba(255, 128, 64, 0.22);
  }
}

/* Global scrollbar styling - Dark theme by default */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

*::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

*::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

*::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: 2px;
  transition: background-color 0.2s;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-hover);
}

/* Sidebar: hide scrollbar but keep scroll behavior */
.sidebar-scroll {
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.sidebar-scroll::-webkit-scrollbar {
  display: none;
}

/* Primary gradient for buttons and icons (mix orange: Bright 0% → Deep 54% → Burnt 100%) */
.bg-primary-gradient {
  background: var(--primary-gradient);
}
.bg-primary-gradient:hover {
  background: linear-gradient(135deg, #e07030 0%, #c84808 54%, #a03000 100%);
  filter: brightness(1.05);
}
.text-primary-gradient {
  color: var(--primary);
}
.border-primary-gradient {
  border-color: var(--primary);
}

/* Icon circles with mix orange gradient (like S/C icons) */
.icon-circle-gradient {
  background: var(--primary-gradient);
  color: #fff;
  box-shadow: 0 2px 8px rgba(255, 128, 64, 0.25);
}

@media print {
  body * {
    visibility: hidden;
  }
  .print-area, .print-area * {
    visibility: visible;
  }
  .print-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
  }
}